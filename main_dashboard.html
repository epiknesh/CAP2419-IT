<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Box Icons -->
  <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
	<link href='https://cdn.boxicons.com/fonts/brands/boxicons-brands.min.css' rel='stylesheet'>
  <!-- Bootstrap-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" 
		integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
	<!--EmailJS-->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
	<!--Chart.js-->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- CCS -->
  <link rel="stylesheet" href="styles/main_dashboard.css">
  <!-- leaflet for OpenStreet Map -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
   <!-- Title -->
  <title>JST Kidlat's BusMate</title>
</head>
<body>
  
  <!-- Side Bar -->
  <section id="sidebar">
	<a href="#" class="brand mt-4 d-flex flex-column align-items-center text-center" style="margin-bottom: 80px;">
		<img src="img/BusMateLogo.png" alt="BusMate Logo" style="height: 75px; margin-bottom: 0px;">
		<span class="text">JST Kidlat's BusMate</span>
	</a>
		<ul class="side-menu top">
			<li class="active">
				<a href="#">
					<i class='bx bxs-dashboard' ></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li>
				<a href="">
					<i class='bx bxs-group' ></i>
					<span class="text">Team</span>
				</a>
			</li>
     
  <li>
  <a href="message.html" class="message-link">
    <i class='bx bxs-message-dots'></i>
    <span class="text">Message</span>
    <span id="mention-count" class="mention-badge"></span> <!-- This will be hidden dynamically if count is 0 -->
  </a>
</li>


			<li>
				<a href="#">
					<i class='bx bxs-bus'></i>
					<span class="text">Fleet</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bx-transfer-alt' ></i>
					<span class="text">Dispatch</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-wrench'></i>					
					<span class="text">Maintenance</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-dollar-circle'></i>			
					<span class="text">Income</span>
				</a>
			</li>
		</ul>
  
		<ul class="side-menu top">
			<li>
				<a href="#">
					<i class='bx bxs-cog' ></i>
					<span class="text">Settings</span>
				</a>
			</li>
			<li>
				<a href="login.html" class="logout">
					<i class='bx bxs-log-out-circle'></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>
	</section>
  <!-- End of Side Bar -->



	
	<!-- CONTENT -->
<section id="content">
	<!-- NAVBAR -->
	<nav>
		<i class='bx bx-menu' ></i>
		<i class='bx bx-refresh'></i>
		<form action="#">
			
		</form>
		<div class="dropdown">
			<a href="#" class="profile" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
			  <img src="img/people.png">
			</a>
			<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
			  <li><a class="dropdown-item" href="profile_page.html">Profile</a></li>
			  <li><a class="dropdown-item text-danger" href="login.html">Logout</a></li>
			</ul>
		</div>
	</nav>
    <!-- End of Nav Bar -->

	<!-- MAIN -->
	<main>
		<div id="alertContainer"></div>


		<div class="head-title">
			<div class="left">
				<h1>Dashboard</h1>
				<ul class="breadcrumb">
					<li>
						<a href="#">Dashboard</a>
					</li>
					<li><i class='bx bx-chevron-right' ></i></li>
					<li>
						<a class="active" href="#">Home</a>
					</li>
				</ul>
			</div>
		</div>

		<!-- Quick Info -->
		<ul class="box-info">
			<li>
				<i class='bx bxs-dollar-circle' ></i>
				<span class="text mt-3">
					<h3 id="totalIncomeToday">₱0</h3>
					<p>Income Today </p>
				</span>
			</li>
			<li>
				<i class='bx bxs-bus'></i>
				<span class="text mt-3">
					<h3 class="text-success">75%</h3>
					<p>Buses Operating Today</p>
				</span>
			</li>
			<li>
				<i class='bx bx-money'></i>
				<span class="text mt-3">
					<h3 id="weeklyIncome">₱500,000</h3>
					<p>Weekly Income</p>
				</span>
			</li>
		</ul>

		<!-- Data -->
		<div class="table-data">
			<!-- BOX 1: Fleet -->
			<div class="order position-relative" id="fleetContent">
				<div class="head">
					<h3>Fleet Readiness</h3>
					<a class="position-absolute top-0 end-0 btn btn-primary mt-3 m-2 d-none d-sm-block" id="fleetBtn">Go To Fleet</a>
				</div>
				<table>
					<thead>
						<tr>
							<th>Bus ID</th>
							<th>Date</th>
							<th>Status</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>1</td>
							<td>02-12-2025</td>
							<td><span class="status operating">Operating</span></td>
						</tr>
						<tr>
							<td>2</td>
							<td>02-12-2025</td>
							<td><span class="status maintenance">Under Maintenance</span></td>
						</tr>
						<tr>
							<td>3</td>
							<td>02-12-2025</td>
							<td><span class="status pending">Pending</span></td>
						</tr>
					</tbody>
				</table>
			</div>

			<!-- BOX 2: Maintenance Report -->
			<div class="order position-relative" id="maintenanceContent">
				<div class="head">
					<h3>Fleet Maintenance Report</h3>
					<a class="position-absolute top-0 end-0 btn btn-primary mt-3 m-2 d-none d-sm-block" id="maintenanceBtn">Go To Maintenance</a>
				</div>
				<table class="table table-striped">
					<thead>
						<tr>
							<th>Bus ID</th>
							<th>Issue</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>2</td>
							<td>Engine Overheating</td>
						</tr>
						<tr>
							<td>7</td>
							<td>Brake System Malfunction</td>
						</tr>
						<tr>
							<td>8</td>
							<td>Air Conditioning Not Working</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<!-- BOX 3: Bus Dispatch -->
		<div class="table-data" id="dispatchContent">
			<div class="order position-relative">
				<div class="head">
					<h3>Bus Dispatch</h3>
					<a class="position-absolute top-0 end-0 btn btn-primary mt-3 m-2 d-none d-sm-block" id="dispatchBtn">Go To Dispatch</a>
				</div>
				<table>
					<thead>
						<tr>
							<th>Bus ID</th>
							<th>Status</th>
							<th>Next Dispatch</th>
						</tr>
					</thead>
					<tbody class="table">
						<tr>
							<td>1</td>
							<td>10:00 AM</td>
						</tr>
						<tr>
							<td>4</td>
							<td>10:30 AM</td>
						</tr>
						<tr>
							<td>5</td>
							<td>11:00 AM</td>
						</tr>
						<tr>
							<td>6</td>
							<td>N/A</td>
						</tr>
					</tbody>
				</table>
          </div>


          <div class="order position-relative" id="incomeContent">
            <div class="head">
              <h3>Bus Income</h3>
              <a class="position-absolute top-0 end-0 btn btn-primary mt-3 m-2 d-none d-sm-block	" id="incomeBtn">Go To Income</a>
            </div>
            <table>
              <thead>
                <tr>
                  <th>Bus ID</th>
                  <th>Income Today</th>
                  <th>Income This Week</th>
                </tr>
              </thead>
              <tbody class="table" id="incomeTableBody">
                <!-- Data will be inserted here dynamically -->
              </tbody>
            </table>
          </div>

      </div>
	  
		</main> 
		<!-- End of MAIN -->
	</section>
	<!-- End of CONTENT -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" 
		integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
  <script src="js/main_dashboard.js"></script>
	<script src="js/team_tab.js"></script>
  <script src="js/dashboard_tab.js"></script>
	<script src="js/fleet_tab.js"></script>
	<script src="js/dispatch_tab.js"></script>
	<script src="js/maintenance_tab.js"></script>
	<script src="js/income_tab.js"></script>
	<script src="js/settings_tab.js"></script>
	<script>
		document.addEventListener("DOMContentLoaded", function () {
		  const urlParams = new URLSearchParams(window.location.search);
		  const tab = urlParams.get("tab");
		  
		  if (tab === "team") {
			const teamTab = document.querySelector('.side-menu.top li:nth-child(2) a');
			if (teamTab) {
			  teamTab.click();
			}
		  }
		});
	</script>
</body>
</html>